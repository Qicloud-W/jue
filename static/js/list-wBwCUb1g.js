import{s as k,_ as b,h as S,d as w}from"./index-CYWUNeU5.js";import{_ as D}from"./Image-CtzcM27r.js";import{e as I}from"./element-plus-DEgQ78-a.js";import{d as C,m as A,w as B,o as s,c as i,a,W as c,al as F,u as o,O as f,V as g,aa as V,U as m,P as $,X as E,S as G,M as L,bn as N,bl as z}from"./@vue-AVcRlItG.js";import{u as M}from"./vue-router-MJGgZ6ro.js";import{a as O}from"./@vueuse-80B0Z04t.js";import"./pinia-DsZbUfLd.js";import"./pinia-plugin-persistedstate-n2tMOXAx.js";import"./axios-BdQ6k-vz.js";import"./nprogress-Dnjw-PvA.js";import"./clipboard-CJr-i2j9.js";import"./markdown-it-4Tp5vWU9.js";import"./mdurl-k9Sl0PQj.js";import"./uc.micro-XL2UFyD4.js";import"./entities-C20TfXL6.js";import"./linkify-it-BpOB9kmn.js";import"./punycode.js-Dj65hjkv.js";import"./dayjs-D7ajE0Qg.js";import"./crypto-js-BOfVfFwP.js";import"./vue3-danmaku-DA_6354Q.js";import"./plyr-DMguYs3u.js";import"./viewerjs-ul8fLQ7-.js";import"./highlight.js-DnQT8WiG.js";import"./@unhead-CE7b8z0V.js";import"./unhead-BIJBGSS1.js";import"./hookable-B8xFkYCm.js";import"./lodash-es-25cZ6aDd.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-Bh_lnI-E.js";import"./@ctrl-r5W6hzzQ.js";import"./@popperjs-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";const l=n=>(N("data-v-5921adc4"),n=n(),z(),n),P={class:"album-group-list-wrapper"},R={class:"br-5 p-2 card-bg"},U={class:"album-group-wrap"},W={class:"layout-card face front shadow wh-100 paa"},X={class:"px-1 fs-14 white-color h-1x album-title"},j=["onClick"],q={class:"flex-center wh-100"},H={class:"center"},J={class:"white-color"},K={class:"mt-1 fs-12 h-4x px-1 album-desc"},Q={class:"loading-wrap flex-yc flex-center my-2 fs-12 muted-color"},T=l(()=>a("span",null,"加载中...",-1)),Y={key:0,class:"mb-2 mt-4 flex-yc flex-center fs-12 muted-color"},Z=l(()=>a("div",{class:"split"},null,-1)),tt=l(()=>a("span",{class:"mx-1"},"我是有底线的",-1)),at=l(()=>a("div",{class:"split"},null,-1)),ot=[Z,tt,at],st=C({__name:"FrontAlbumGroupList",setup(n){const u=M(),{arrivedState:p}=O(window),t=A({page:1,limit:12,all_page:1,loading:!1,data:null}),d={initData:()=>{d.fetchData()},fetchData:async()=>{const{code:r,data:_}=await k.all({page:t.page,limit:t.limit});r===200?(t.data||(t.data=[]),t.data=t.data.concat(_.data),t.all_page=_.page):t.data=t.data||[]}};return B(p,async r=>{r.bottom&&(t.page+=1,t.loading=!0,t.page<=t.all_page&&await d.fetchData(),t.loading=!1)}),d.initData(),(r,_)=>{const h=I,v=D,x=b,y=S;return s(),i("section",P,[a("div",R,[c(h,{animated:"",loading:o(t).data===null},F({template:f(()=>[c(h,{rows:10})]),_:2},[o(t).data?{name:"default",fn:f(()=>[o(t).data.length?(s(),i(g,{key:0},[a("div",U,[(s(!0),i(g,null,V(o(t).data,(e,rt)=>(s(),i("div",{class:"album-item-wrap layout-100 br-5 overhide pr",key:e.id},[a("div",W,[c(v,{src:e.covers.split(",")[0],class:"wh-100"},null,8,["src"]),a("div",X,m(e.name),1)]),a("div",{class:"layout-card back curp face shadow wh-100",onClick:lt=>o(u).push({name:"front-album-detail",params:{id:e.id}})},[a("div",q,[a("div",H,[a("div",J,m(e.name),1),a("p",K,m(e.description||"这个人很懒，什么也没有留下。"),1)])])],8,j)]))),128))]),$(a("div",Q,[c(x,{name:"loader-2-line ",size:"14",class:"mr5 spinner"}),T],512),[[E,o(t).loading]]),o(t).page>o(t).all_page?(s(),i("div",Y,ot)):G("",!0)],64)):(s(),L(y,{key:1}))]),key:"0"}:void 0]),1032,["loading"])])])}}}),et=w(st,[["__scopeId","data-v-5921adc4"]]),it={},nt={class:"page-home-wrapper wh-100"};function ct(n,u){const p=et;return s(),i("div",nt,[c(p)])}const Ut=w(it,[["render",ct]]);export{Ut as default};
