import{_ as P}from"./CommentList-CLxjsben.js";import{_ as F}from"./CommentInput-CLsnyAEF.js";import{e as O,p as U,m as W,_ as j,d as q}from"./index-CYWUNeU5.js";import{e as G}from"./element-plus-DEgQ78-a.js";import{p as J}from"./vueuse-CTCWISgP.js";import{a as K,u as Q}from"./vue-router-MJGgZ6ro.js";import{c as I}from"./@vueuse-80B0Z04t.js";import{d as X,i as Z,m as tt,bg as et,ar as i,o as r,c as R,a as o,W as m,al as ot,u as e,O as L,M,S as d,U as T,P as at,bn as st,bl as it}from"./@vue-AVcRlItG.js";import"./pinia-DsZbUfLd.js";import"./pinia-plugin-persistedstate-n2tMOXAx.js";import"./axios-BdQ6k-vz.js";import"./nprogress-Dnjw-PvA.js";import"./clipboard-CJr-i2j9.js";import"./markdown-it-4Tp5vWU9.js";import"./mdurl-k9Sl0PQj.js";import"./uc.micro-XL2UFyD4.js";import"./entities-C20TfXL6.js";import"./linkify-it-BpOB9kmn.js";import"./punycode.js-Dj65hjkv.js";import"./dayjs-D7ajE0Qg.js";import"./crypto-js-BOfVfFwP.js";import"./vue3-danmaku-DA_6354Q.js";import"./plyr-DMguYs3u.js";import"./viewerjs-ul8fLQ7-.js";import"./highlight.js-DnQT8WiG.js";import"./@unhead-CE7b8z0V.js";import"./unhead-BIJBGSS1.js";import"./hookable-B8xFkYCm.js";import"./lodash-es-25cZ6aDd.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-Bh_lnI-E.js";import"./@ctrl-r5W6hzzQ.js";import"./@popperjs-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";const rt=s=>(st("data-v-eed356a7"),s=s(),it(),s),nt={class:"page-page-wrapper w-100"},ct={class:"page-detail-wrapper w-100 card-bg br-5 p-2"},mt={class:"fs-24 lh-17 title-color"},dt={class:"mt-1 flex-yc g-3 muted-color"},lt={class:"flex-yc"},pt={class:"muted-color fs-12"},_t=rt(()=>o("div",{class:"split-line my-1"},null,-1)),ut=["innerHTML"],ft={key:0,id:"comment-list-wrapper",class:"comment-list-wrapper card-bg mt-2 p-2 br-5"},ht=X({__name:"index",setup(s){const l=K(),$=Q(),p=O(),n=Z(),t=tt({data:null}),_={fetchData:async()=>{const{code:a,data:c}=await U.one({key:l.params.key,where:"audit = 1"});a==200?(I(`${c.title}-${p.site.title}`),t.data=c):$.push({name:"404"})},handleRefresh:()=>{n.value&&n.value.refresh()}};return et(()=>{var a;t.data&&I(`${(a=t.data)==null?void 0:a.title}-${p.site.title}`)}),_.fetchData(),(a,c)=>{var f,h,g,v,y,w,b,k,S,x,D,H,C;const u=G,B=j,Y=F,z=P,N=i("lazy"),V=i("plyr"),A=i("imgbox"),E=i("highlight");return r(),R("div",nt,[o("div",ct,[m(u,{animated:"",loading:e(t).data===null},ot({template:L(()=>[m(u,{rows:8})]),_:2},[e(t).data&&e(l).params.key?{name:"default",fn:L(()=>[o("h1",mt,T(e(t).data.title),1),o("div",dt,[o("div",lt,[m(B,{name:"calendar-line",class:"mr5",size:"14",color:"var(--muted-color)"}),o("span",pt,T(e(J)(e(t).data.create_time,"YYYY-MM-DD HH:mm")),1)])]),_t,at(o("article",{class:"article-content",innerHTML:e(W)(e(t).data.content)},null,8,ut),[[N],[V],[A],[E]])]),key:"0"}:void 0]),1032,["loading"])]),e(t).data&&(((g=(h=(f=e(t).data)==null?void 0:f.result)==null?void 0:h.comment)==null?void 0:g.allow)===1||((w=(y=(v=e(t).data)==null?void 0:v.result)==null?void 0:y.comment)==null?void 0:w.show)===1)?(r(),R("div",ft,[((S=(k=(b=e(t).data)==null?void 0:b.result)==null?void 0:k.comment)==null?void 0:S.allow)===1?(r(),M(Y,{key:0,class:"mb-3",onHandleSend:_.handleRefresh,pid:0,"bind-id":(e(t).data.id||0).toString(),"bind-type":"page"},null,8,["onHandleSend","bind-id"])):d("",!0),((H=(D=(x=e(t).data)==null?void 0:x.result)==null?void 0:D.comment)==null?void 0:H.show)===1?(r(),M(z,{key:1,ref_key:"commentListRef",ref:n,"bind-id":(e(t).data.id||0).toString(),uid:((C=e(t).data)==null?void 0:C.uid)||0,"bind-type":"page"},null,8,["bind-id","uid"])):d("",!0)])):d("",!0)])}}}),Qt=q(ht,[["__scopeId","data-v-eed356a7"]]);export{Qt as default};
