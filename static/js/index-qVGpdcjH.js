import{o as N,f as F,g as H,_ as W,h as $,d as O}from"./index-CYWUNeU5.js";import{e as Q,f as T}from"./element-plus-DEgQ78-a.js";import{_ as U}from"./Image-CtzcM27r.js";import{p as q}from"./vueuse-CTCWISgP.js";import{b as J}from"./@vueuse-80B0Z04t.js";import{a as K,u as P}from"./vue-router-MJGgZ6ro.js";import{d as X,m as Z,af as ss,o as r,c as l,a as s,u as o,M as u,S as _,U as a,Q as ts,W as i,al as es,O as h,V as os,aa as as,bn as is,bl as rs}from"./@vue-AVcRlItG.js";import"./pinia-DsZbUfLd.js";import"./pinia-plugin-persistedstate-n2tMOXAx.js";import"./axios-BdQ6k-vz.js";import"./nprogress-Dnjw-PvA.js";import"./clipboard-CJr-i2j9.js";import"./markdown-it-4Tp5vWU9.js";import"./mdurl-k9Sl0PQj.js";import"./uc.micro-XL2UFyD4.js";import"./entities-C20TfXL6.js";import"./linkify-it-BpOB9kmn.js";import"./punycode.js-Dj65hjkv.js";import"./dayjs-D7ajE0Qg.js";import"./crypto-js-BOfVfFwP.js";import"./vue3-danmaku-DA_6354Q.js";import"./plyr-DMguYs3u.js";import"./viewerjs-ul8fLQ7-.js";import"./highlight.js-DnQT8WiG.js";import"./@unhead-CE7b8z0V.js";import"./unhead-BIJBGSS1.js";import"./hookable-B8xFkYCm.js";import"./lodash-es-25cZ6aDd.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-Bh_lnI-E.js";import"./@ctrl-r5W6hzzQ.js";import"./@popperjs-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";const ns=p=>(is("data-v-2a8fb335"),p=p(),rs(),p),cs={class:"page-article-group-wrapper"},ls={class:"layout-card group-info-wrapper wh-100 br-5 pr"},ps={key:0,class:"flex-center wh-100"},ds={class:"z-2 center"},_s={class:"z-2 white-color fw-600 fs-20"},ms={class:"group-title"},us={class:"mt-1 fs-12 h-2x lh-17 px-2 group-desc"},hs={class:"group-article-list-wrapper p-2 card-bg mt-2"},fs={class:"title-color fw-600 trf"},gs={class:"flex-yc muted-color g-1 mt-1"},vs={class:"flex-yc g-1 theme-hover"},ys={class:"fs-12"},xs=ns(()=>s("span",null,"·",-1)),ws={class:"fs-12"},ks={class:"flex-sb mt5 g-2"},bs={class:"wh-100"},zs={class:"fs-14 flex-1 lh-2 text-color h-3x"},As={key:0,class:"flex-yc flex-shrink-0 overhide br-4"},Ss={class:"flex-yc g-3 fs-12 mt-1 muted-color"},Is={class:"flex-yc"},Cs={class:"ml5"},Ds={class:"flex-yc"},Ls={class:"ml5"},Bs={class:"flex-yc"},Es={class:"ml5"},Rs={class:"flex-yc"},Vs={class:"ml5"},Ys={class:"flex-yc"},js={class:"ml5"},Gs={key:0,class:"split-line my-2"},Ms=X({__name:"index",setup(p){const{width:R}=J(),f=K(),V=P(),t=Z({page:1,limit:12,all_page:1,loading:!1,group:null,data:null}),m={initData:()=>{m.getGroup(),m.getArticleList()},getGroup:async()=>{const{code:d,data:n}=await N.one({id:f.params.id});d===200?t.group=n:V.push({name:"404"})},getArticleList:async()=>{const{code:d,data:n}=await F.all({page:t.page,limit:t.limit,field:"id,json,result,title,abstract,views,covers,create_time",where:[["audit","=","1"],["group","like",`%|${f.params.id}|%`]]});d===200?(t.data||(t.data=[]),t.data=t.data.concat(H(n.data)),t.all_page=n.page):t.data=[]}};return m.initData(),(d,n)=>{var y,x;const g=U,v=Q,Y=T,c=W,j=ss("RouterLink"),G=$;return r(),l("div",cs,[s("div",{class:ts(["w-100 br-5 pr",o(R)>768?"layout-41":"layout-31"])},[s("div",ls,[o(t).group?(r(),l("div",ps,[(y=o(t).group.json)!=null&&y.cover?(r(),u(g,{key:0,class:"wh-100 pa inset-0 group-cover",src:(x=o(t).group.json)==null?void 0:x.cover},null,8,["src"])):_("",!0),s("div",ds,[s("div",_s,[s("span",ms,a(o(t).group.name),1)]),s("p",us,a(o(t).group.description),1)])])):_("",!0)])],2),s("div",hs,[i(v,{animated:"",throttle:200,loading:o(t).data===null},es({template:h(()=>[i(v,{rows:8})]),_:2},[o(t).data?{name:"default",fn:h(()=>[o(t).data.length?(r(!0),l(os,{key:0},as(o(t).data,(e,M)=>(r(),u(j,{to:{name:"front-article-detail",params:{id:e.id}},class:"article-item-wrap curp",key:e.id},{default:h(()=>{var w,k,b,z,A,S,I,C,D,L,B,E;return[s("div",null,[s("span",fs,a(e.title),1)]),s("div",gs,[s("div",vs,[i(Y,{src:(k=(w=e.result)==null?void 0:w.author)==null?void 0:k.avatar,size:16},null,8,["src"]),s("span",ys,a(((z=(b=e.result)==null?void 0:b.author)==null?void 0:z.nickname)||"未知用户"),1)]),xs,s("span",ws,a(o(q)(e.create_time,"YYYY-MM-DD HH:mm")),1)]),s("div",ks,[s("div",bs,[s("p",zs,a(e.abstract||"这个人很懒，连摘要都不写。"),1)]),e.covers?(r(),l("div",As,[i(g,{class:"trf wh-100 article-cover br-4",src:e.covers.split(",")[0]},null,8,["src"])])):_("",!0)]),s("div",Ss,[s("div",Is,[i(c,{name:"eye-line",size:"14"}),s("span",Cs,a(e.views),1)]),s("div",Ds,[i(c,{name:"thumb-up-line",size:"14"}),s("span",Ls,a(((S=(A=e.result)==null?void 0:A.comment)==null?void 0:S.count)||0),1)]),s("div",Bs,[i(c,{name:"message-3-line",size:"14"}),s("span",Es,a(((C=(I=e.result)==null?void 0:I.like)==null?void 0:C.length)||0),1)]),s("div",Rs,[i(c,{name:"star-line",size:"14"}),s("span",Vs,a(((L=(D=e.result)==null?void 0:D.collect)==null?void 0:L.length)||0),1)]),s("div",Ys,[i(c,{name:"share-box-line",size:"14"}),s("span",js,a(((E=(B=e.result)==null?void 0:B.share)==null?void 0:E.length)||0),1)])]),M+1<o(t).data.length?(r(),l("div",Gs)):_("",!0)]}),_:2},1032,["to"]))),128)):(r(),u(G,{key:1}))]),key:"0"}:void 0]),1032,["loading"])])])}}}),vt=O(Ms,[["__scopeId","data-v-2a8fb335"]]);export{vt as default};
