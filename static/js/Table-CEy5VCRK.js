import{k as S,b as E,X as I,g as M,a3 as P}from"./element-plus-DEgQ78-a.js";import{d as w,Q as F,R as N,_ as V}from"./index-CYWUNeU5.js";import{o as d,c as B,bn as U,bl as A,a as o,d as Q,bf as k,m as j,bF as x,M as m,O as l,S as u,W as n,J as z,Q as T,u as D,T as f,U as J}from"./@vue-AVcRlItG.js";const L={},O=s=>(U("data-v-8f519b84"),s=s(),A(),s),W={class:"el-loading-mask"},X=O(()=>o("div",{class:"el-loading-spinner"},[o("svg",{viewBox:"25 25 50 50",class:"circular"},[o("circle",{cx:"50",cy:"50",r:"20",fill:"none",class:"path"})])],-1)),q=[X];function G(s,h){return d(),B("div",W,q)}const H=w(L,[["render",G],["__scopeId","data-v-8f519b84"]]),K={class:"flex-sb mb-2 flex-yc flex-wrap g-2"},Y={class:"flex-yc g-4 flex-end flex-1"},Z={class:"table-wrapper pr"},ee=Q({__name:"Table",props:k({loading:{},length:{},count:{},allowCreate:{type:Boolean,default:!0},onlyTrashed:{type:Boolean},hiddenTrashed:{type:Boolean},hiddenCreate:{type:Boolean},showPagination:{type:Boolean,default:!0}},{page:{default:1},pageModifiers:{},limit:{default:15},limitModifiers:{}}),emits:k(["handleAdd","handleRestore","handleRefresh","handleRemove","getTrash","update:page","update:count","update:limit","update:pageCount","update:isScreen"],["update:page","update:limit"]),setup(s,{emit:h}){const _=s,i=h,c=j({is_screen:!1}),v=x(s,"page"),y=x(s,"limit"),g={handleRefresh:()=>{i("handleRefresh")},toggleScreen:()=>{c.is_screen=!c.is_screen,c.is_screen?F():N()},handleRemove:()=>{S.confirm("这将彻底删除数据，不能恢复，确认继续吗?","警告",{confirmButtonText:"确认",cancelButtonText:"返回",type:"warning"}).then(()=>{i("handleRemove")}).catch(()=>{})}};return(t,e)=>{const r=V,p=E,b=I,C=M,$=H,R=P;return d(),B("div",{class:T(["table-data-wrapper p-2 br h-100",{fullscreen:D(c).is_screen}])},[o("div",K,[o("div",null,[!t.onlyTrashed&&_.allowCreate?(d(),m(p,{key:0,onClick:e[0]||(e[0]=a=>i("handleAdd")),size:"small",type:"primary"},{default:l(()=>[n(r,{name:"add-circle-fill",size:"14px",class:"mr5"}),f("新建 ")]),_:1})):u("",!0),t.hiddenTrashed?u("",!0):(d(),m(p,{key:1,type:"warning",size:"small",plain:"",onClick:e[1]||(e[1]=a=>i("getTrash"))},{default:l(()=>[n(r,{name:"recycle-fill",size:"14px",class:"mr5"}),f(J(t.onlyTrashed?"退出回收站":"回收站"),1)]),_:1})),t.onlyTrashed?(d(),m(b,{key:2,onConfirm:e[2]||(e[2]=a=>i("handleRestore")),width:"220",title:"恢复所选数据？"},{reference:l(()=>[n(p,{size:"small",loading:t.loading===4,disabled:t.length===0,type:"success"},{default:l(()=>[n(r,{name:"refresh-line",size:"14px",class:"mr5"}),f("恢复 ")]),_:1},8,["loading","disabled"])]),_:1})):u("",!0),n(b,{onConfirm:e[3]||(e[3]=a=>i("handleRemove")),width:"230",title:t.onlyTrashed?"彻底删除选中项?":"将选中项批量移至回收站?"},{reference:l(()=>[n(p,{type:"danger",size:"small",disabled:t.length===0},{default:l(()=>[n(r,{name:"delete-bin-fill",size:"14px",class:"mr5"}),f("删除 ")]),_:1},8,["disabled"])]),_:1},8,["title"])]),o("div",Y,[z(t.$slots,"top-right",{},void 0,!0),n(C,{class:"box-item",effect:"dark",content:"刷新",placement:"bottom"},{default:l(()=>[n(r,{name:"refresh-line",class:"curp",onClick:e[4]||(e[4]=a=>i("handleRefresh"))})]),_:1}),n(C,{class:"box-item",effect:"dark",content:"全屏",placement:"bottom"},{default:l(()=>[n(r,{name:"fullscreen-fill",class:"curp",onClick:g.toggleScreen},null,8,["onClick"])]),_:1})])]),o("div",Z,[z(t.$slots,"default",{},void 0,!0),o("div",{class:T(["overlay trf flex-center",{hide:t.loading!==1}])},[n($,{text:"加载数据中..."})],2)]),_.showPagination?(d(),m(R,{key:0,class:"flex-end mt-2",background:"","current-page":v.value,"onUpdate:currentPage":e[5]||(e[5]=a=>v.value=a),"page-size":y.value,"onUpdate:pageSize":e[6]||(e[6]=a=>y.value=a),"page-sizes":[15,20,30,50],"pager-count":5,small:"",layout:"total, sizes, prev,slot, pager, next, jumper",total:t.count,onSizeChange:e[7]||(e[7]=a=>g.handleRefresh()),onCurrentChange:e[8]||(e[8]=a=>g.handleRefresh())},null,8,["current-page","page-size","total"])):u("",!0)],2)}}}),se=w(ee,[["__scopeId","data-v-bcbcff8e"]]);export{se as _};
