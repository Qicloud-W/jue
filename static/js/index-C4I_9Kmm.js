import{g as N,i as F,W as K,b as M,L as O,F as R,G as q,d as H,_ as le,a as ce,a4 as ie,j as _e}from"./element-plus-DEgQ78-a.js";import{_ as pe}from"./CommonSelect-BPJDZPOW.js";import{a as V,n as z,L as ue,c as Y,_ as J,H as re,I as se,d as de}from"./index-CYWUNeU5.js";import{b as X}from"./@vueuse-80B0Z04t.js";import{i as me}from"./options-BvRdR4NQ.js";import{d as Q,i as v,m as j,ar as W,o as g,c as G,P as B,M as k,O as l,W as e,a as o,T as r,u as s,S as L,j as E,bn as fe,bl as ve}from"./@vue-AVcRlItG.js";import"./lodash-es-25cZ6aDd.js";import"./async-validator-DKvM95Vc.js";import"./dayjs-D7ajE0Qg.js";import"./clipboard-CJr-i2j9.js";import"./@element-plus-Bh_lnI-E.js";import"./@ctrl-r5W6hzzQ.js";import"./@popperjs-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./pinia-DsZbUfLd.js";import"./pinia-plugin-persistedstate-n2tMOXAx.js";import"./axios-BdQ6k-vz.js";import"./nprogress-Dnjw-PvA.js";import"./vue-router-MJGgZ6ro.js";import"./markdown-it-4Tp5vWU9.js";import"./mdurl-k9Sl0PQj.js";import"./uc.micro-XL2UFyD4.js";import"./entities-C20TfXL6.js";import"./linkify-it-BpOB9kmn.js";import"./punycode.js-Dj65hjkv.js";import"./crypto-js-BOfVfFwP.js";import"./vue3-danmaku-DA_6354Q.js";import"./plyr-DMguYs3u.js";import"./viewerjs-ul8fLQ7-.js";import"./highlight.js-DnQT8WiG.js";import"./@unhead-CE7b8z0V.js";import"./unhead-BIJBGSS1.js";import"./hookable-B8xFkYCm.js";const ge={class:"config-register-card-wrapper"},he={class:"flex-sb"},ye={class:"flex-yc"},be=o("span",{class:"fs-14"},"注册",-1),$e={class:"flex-yc g-1"},we=o("span",{class:"fs-12"},"已开启",-1),xe=o("p",{class:"mt-2 fs-12 muted-color"},"1. 是否允许用户自行注册账号（开放注册功能？）",-1),Ve=o("p",{class:"mt-1 fs-12 muted-color"},"2. 如果不允许，那么只能通过管理员手动创建账号",-1),Se={class:"flex-sb mt-4 w-100 z-1"},ke={class:"dialog-footer"},Z="ALLOW_REGISTER",Ce=Q({__name:"SecureRegister",setup(C){const i=v(!1),a=v(!1),_=v(!1),{width:f}=X(),n=j({value:"",text:[]}),p=j({allow_register_options:me,group_optins:[]}),c={initData:()=>{c.fetchData(),c.getAuthGroup()},fetchData:async()=>{const t=await V.one(Z);t.code===200&&(i.value=t.data.value==="1",n.value=t.data.value,n.text=t.data.text.split(",").map(d=>parseInt(d)))},handleSave:async()=>{_.value=!0;const t=await V.save({key:Z,...n});i.value=n.value==="1",_.value=!1,a.value=!1,z(t)},handleChange:async()=>{_.value=!0;const t=await V.save({key:Z,value:i.value?0:1});return _.value=!1,z(t),t.code===200},getAuthGroup:async()=>{const t=await ue.column({field:"id,name"});t.code===200&&(p.group_optins=t.data)}};return c.initData(),(t,d)=>{const h=Y,$=J,I=N,P=F,b=K,y=M,w=O,x=pe,S=R,D=q,U=H,u=W("ripple");return g(),G("div",ge,[B((g(),k(w,{shadow:"never",class:"hover-up h-100 pr"},{default:l(()=>[e(h,{name:"d-6",class:"config-icon trf",size:"150"}),o("div",null,[o("div",he,[e(I,{placement:"top"},{content:l(()=>[r(" 注册相关配置 ")]),default:l(()=>[o("div",ye,[e($,{name:"information-fill",class:"mr5"}),be])]),_:1}),s(i)?(g(),k(P,{key:0,type:"success"},{default:l(()=>[o("div",$e,[e($,{size:"14",name:"checkbox-circle-line"}),we])]),_:1})):L("",!0)]),xe,Ve]),o("div",Se,[e(b,{modelValue:s(i),"onUpdate:modelValue":d[0]||(d[0]=m=>E(i)?i.value=m:null),"before-change":c.handleChange,loading:s(_)},null,8,["modelValue","before-change","loading"]),e(y,{plain:"",size:"small",type:"primary",onClick:d[1]||(d[1]=m=>a.value=!s(a))},{default:l(()=>[r("点我配置")]),_:1})])]),_:1})),[[u]]),e(U,{modelValue:s(a),"onUpdate:modelValue":d[5]||(d[5]=m=>E(a)?a.value=m:null),width:"95%",title:"注册配置"},{footer:l(()=>[o("span",ke,[e(y,{onClick:d[4]||(d[4]=m=>a.value=!1)},{default:l(()=>[r("取消")]),_:1}),e(y,{loading:s(_),type:"primary",onClick:c.handleSave},{default:l(()=>[r(" 确认 ")]),_:1},8,["loading","onClick"])])]),default:l(()=>[e(D,{model:s(n),"label-width":"100","label-position":s(f)<=768?"top":"left"},{default:l(()=>[e(S,{label:"允许注册"},{default:l(()=>[e(x,{class:"w-100",options:s(p).allow_register_options,value:s(n).value,"onUpdate:value":d[2]||(d[2]=m=>s(n).value=m)},null,8,["options","value"])]),_:1}),e(S,{label:"默认权限"},{default:l(()=>[e(x,{class:"w-100",options:s(p).group_optins,valueKey:"id",labelKey:"name",multiple:"",value:s(n).text,"onUpdate:value":d[3]||(d[3]=m=>s(n).text=m)},null,8,["options","value"])]),_:1})]),_:1},8,["model","label-position"])]),_:1},8,["modelValue"])])}}}),Ie={class:"config-page-limit-wrapper"},Pe={class:"flex-sb"},Ee={class:"flex-yc"},ze=o("span",{class:"fs-14"},"分页限制",-1),De={class:"flex-yc g-1"},Ue=o("span",{class:"fs-12"},"已开启",-1),Ae=o("p",{class:"mt-2 fs-12 muted-color"}," 1. 分页限制可以限制坏人发起恶意请求，如恶意请求 999999 乃至无限大的数据 ",-1),Te=o("p",{class:"mt-1 fs-12 muted-color"}," 2.分页限制可以限制每页最大请求数据量，超过则强制性=最大值 ",-1),je=o("p",{class:"mt-1 fs-12 muted-color"}," 3.注意：如果开启了缓存，此项可不开，因为缓存数据不会导致重复查询 ",-1),Ne={class:"flex-sb mt-4 w-100 z-1"},Fe={class:"dialog-footer"},ee="SYSTEM_PAGE_LIMIT",Ke=Q({__name:"SecurePageLimit",setup(C){const i=v(!1),a=v(!1),_=v(!1),{width:f}=X(),n=j({text:45}),p={fetchData:async()=>{const c=await V.one(ee);c.code===200&&(i.value=c.data.value==="1",n.text=parseInt(c.data.text)||45)},handleChange:async()=>{_.value=!0;const c=await V.save({key:ee,value:i.value?0:1});return z(c),_.value=!1,c.code===200},handleSave:async()=>{_.value=!0;const c=await V.save({key:ee,text:n.text});_.value=!1,a.value=!1,z(c)}};return p.fetchData(),(c,t)=>{const d=Y,h=J,$=N,I=F,P=K,b=M,y=O,w=le,x=R,S=q,D=H,U=W("ripple");return g(),G("div",Ie,[B((g(),k(y,{shadow:"never",class:"hover-up h-100 pr"},{default:l(()=>[e(d,{name:"d-4",class:"config-icon trf",size:"150"}),o("div",null,[o("div",Pe,[e($,{placement:"top"},{content:l(()=>[r(" 限制分页查询单次最大数据量，开启让系统毫无瑕疵！ ")]),default:l(()=>[o("div",Ee,[e(h,{name:"information-fill",class:"mr5"}),ze])]),_:1}),s(i)?(g(),k(I,{key:0,type:"success"},{default:l(()=>[o("div",De,[e(h,{size:"14",name:"checkbox-circle-line"}),Ue])]),_:1})):L("",!0)]),Ae,Te,je]),o("div",Ne,[e(P,{"before-change":p.handleChange,modelValue:s(i),"onUpdate:modelValue":t[0]||(t[0]=u=>E(i)?i.value=u:null),loading:s(_)},null,8,["before-change","modelValue","loading"]),e(b,{plain:"",size:"small",type:"primary",onClick:t[1]||(t[1]=u=>a.value=!s(a))},{default:l(()=>[r("点我配置")]),_:1})])]),_:1})),[[U]]),e(D,{modelValue:s(a),"onUpdate:modelValue":t[4]||(t[4]=u=>E(a)?a.value=u:null),width:"95%",title:"分页限制配置"},{footer:l(()=>[o("span",Fe,[e(b,{onClick:t[3]||(t[3]=u=>a.value=!1)},{default:l(()=>[r("取消")]),_:1}),e(b,{loading:s(_),type:"primary",onClick:p.handleSave},{default:l(()=>[r(" 确认 ")]),_:1},8,["loading","onClick"])])]),default:l(()=>[e(S,{model:s(n),"label-width":"100","label-position":s(f)<=768?"top":"left"},{default:l(()=>[e(x,{label:"最大值"},{default:l(()=>[e(w,{modelValue:s(n).text,"onUpdate:modelValue":t[2]||(t[2]=u=>s(n).text=u)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","label-position"])]),_:1},8,["modelValue"])])}}}),Me={class:"config-ip-black-wrapper"},Oe={class:"flex-sb"},Ye={class:"flex-yc"},Je=o("span",{class:"fs-14"},"自动IP黑名单",-1),Qe={class:"flex-yc g-1"},We=o("span",{class:"fs-12"},"已开启",-1),Ge=o("p",{class:"mt-2 fs-12 muted-color"}," 1. 此功能需要搭配 QPS 使用，在 时间频率 内，达到 触发 QPS 次数上限，自动拉黑对应的客户端IP ",-1),Be=o("p",{class:"mt-1 fs-12 muted-color"}," 2.如：在1小时内，某客户端IP触发了3次 QPS 警告，则自动拉黑此客户端IP，并且后续无法访问任何API ",-1),Le=o("p",{class:"mt-1 fs-12 muted-color"},"3.此功能可以有效防止恶意攻击，如：CC攻击、DDOS攻击等",-1),Re=o("p",{class:"mt-1 fs-12 muted-color"},"4.需要注意的是，随机图片接口也会受到影响",-1),qe={class:"flex-sb mt-4 w-100 z-1"},He={class:"dialog-footer"},oe="SYSTEM_QPS_BLOCK",Xe=Q({__name:"SecureIpBlack",setup(C){const i=v(!1),a=v(!1),_=v(!1),{width:f}=X(),n=v(!1),p=j({count:3,second:3600}),c={fetchData:async()=>{const t=await V.one(oe);t.code===200&&(i.value=t.data.value==="1",p.second=t.data.json.second||3600,p.count=t.data.json.count||3)},handleChange:async()=>{n.value=!0;const t=await V.save({key:oe,value:i.value?0:1});return z(t),n.value=!1,t.code===200},handleSave:async()=>{_.value=!0;const t=await V.save({key:oe,json:JSON.stringify({...p})});_.value=!1,a.value=!1,z(t)}};return c.fetchData(),(t,d)=>{const h=Y,$=J,I=N,P=F,b=K,y=M,w=O,x=le,S=R,D=ce,U=q,u=H,m=W("ripple");return g(),G("div",Me,[B((g(),k(w,{shadow:"never",class:"hover-up pr"},{default:l(()=>[e(h,{name:"d-2",class:"config-icon trf",size:"150"}),o("div",null,[o("div",Oe,[e(I,{placement:"top"},{content:l(()=>[r(" 开启后满足条件的客户端IP会被自动拉黑！ ")]),default:l(()=>[o("div",Ye,[e($,{name:"information-fill",class:"mr5"}),Je])]),_:1}),s(i)?(g(),k(P,{key:0,type:"success"},{default:l(()=>[o("div",Qe,[e($,{size:"14",name:"checkbox-circle-line"}),We])]),_:1})):L("",!0)]),Ge,Be,Le,Re]),o("div",qe,[e(b,{"before-change":c.handleChange,modelValue:s(i),"onUpdate:modelValue":d[0]||(d[0]=A=>E(i)?i.value=A:null),loading:s(n)},null,8,["before-change","modelValue","loading"]),e(y,{plain:"",size:"small",type:"primary",onClick:d[1]||(d[1]=A=>a.value=!s(a))},{default:l(()=>[r("点我配置")]),_:1})])]),_:1})),[[m]]),e(u,{modelValue:s(a),"onUpdate:modelValue":d[5]||(d[5]=A=>E(a)?a.value=A:null),width:"95%",title:"自动IP黑名单配置"},{footer:l(()=>[o("span",He,[e(y,{onClick:d[4]||(d[4]=A=>a.value=!1)},{default:l(()=>[r("取消")]),_:1}),e(y,{loading:s(_),type:"primary",onClick:c.handleSave},{default:l(()=>[r(" 确认 ")]),_:1},8,["loading","onClick"])])]),default:l(()=>[e(U,{model:s(p),"label-width":"100","label-position":s(f)<=768?"top":"left"},{default:l(()=>[e(S,{label:"触发次数"},{default:l(()=>[e(x,{modelValue:s(p).count,"onUpdate:modelValue":d[2]||(d[2]=A=>s(p).count=A)},null,8,["modelValue"])]),_:1}),e(S,{label:"时间频率(秒)"},{default:l(()=>[e(D,{modelValue:s(p).second,"onUpdate:modelValue":d[3]||(d[3]=A=>s(p).second=A),placeholder:"可以用乘法，如：60 * 60 表示1小时"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","label-position"])]),_:1},8,["modelValue"])])}}}),Ze={class:"config-qps-card-wrapper"},eo={class:"flex-sb"},oo={class:"flex-yc"},to=o("span",{class:"fs-14"},"QPS",-1),lo={class:"flex-yc g-1"},so=o("span",{class:"fs-12"},"已开启",-1),no=o("p",{class:"mt-2 fs-12 muted-color"}," 1. QPS俗称限流器，是一种作用于网络层的中间件，主要用于拦截异常流量，如DDOS和CC等 ",-1),ao=o("p",{class:"mt-1 fs-12 muted-color"}," 2. QPS会将每个IP的请求次数限制在每秒的指定次数，超过则拒绝访问，从而保护服务器安全 ",-1),co={class:"flex-sb mt-4 w-100 z-1"},io={class:"dialog-footer"},te="SYSTEM_QPS",_o=Q({__name:"SecureQPS",setup(C){const i=v(!1),a=v(!1),_=v(!1),{width:f}=X(),n=j({point:15,global:50}),p={fetchData:async()=>{const c=await V.one(te);c.code===200&&(i.value=c.data.value==="1",n.global=c.data.json.global||50,n.point=c.data.json.point||15)},handleChange:async()=>{_.value=!0;const c=await V.save({key:te,value:i.value?0:1});return z(c),_.value=!1,c.code===200},handleSave:async()=>{_.value=!0;const c=await V.save({key:te,json:JSON.stringify({...n})});_.value=!1,a.value=!1,z(c)}};return p.fetchData(),(c,t)=>{const d=Y,h=ie,$=J,I=N,P=F,b=K,y=M,w=O,x=le,S=R,D=q,U=H,u=W("ripple");return g(),G("div",Ze,[B((g(),k(w,{shadow:"never",class:"hover-up h-100 pr"},{default:l(()=>[e(d,{name:"d-5",class:"config-icon trf",size:"150"}),o("div",null,[o("div",eo,[e(I,{placement:"top"},{content:l(()=>[e(h,{class:"mx-1",size:"small",type:"success"},{default:l(()=>[r("开启后让DDOS和CC等异常流量无懈可击！")]),_:1})]),default:l(()=>[o("div",oo,[e($,{name:"information-fill",class:"mr5"}),to])]),_:1}),s(i)?(g(),k(P,{key:0,type:"success"},{default:l(()=>[o("div",lo,[e($,{size:"14",name:"checkbox-circle-line"}),so])]),_:1})):L("",!0)]),no,ao]),o("div",co,[e(b,{"before-change":p.handleChange,loading:s(_),modelValue:s(i),"onUpdate:modelValue":t[0]||(t[0]=m=>E(i)?i.value=m:null)},null,8,["before-change","loading","modelValue"]),e(y,{plain:"",size:"small",type:"primary",onClick:t[1]||(t[1]=m=>a.value=!s(a))},{default:l(()=>[r("点我配置")]),_:1})])]),_:1})),[[u]]),e(U,{modelValue:s(a),"onUpdate:modelValue":t[5]||(t[5]=m=>E(a)?a.value=m:null),width:"95%",title:"QPS配置"},{footer:l(()=>[o("span",io,[e(y,{onClick:t[4]||(t[4]=m=>a.value=!1)},{default:l(()=>[r("取消")]),_:1}),e(y,{loading:s(_),type:"primary",onClick:p.handleSave},{default:l(()=>[r(" 确认 ")]),_:1},8,["loading","onClick"])])]),default:l(()=>[e(D,{model:s(n),"label-width":"100","label-position":s(f)<=768?"top":"left"},{default:l(()=>[e(S,{label:"全局限制"},{default:l(()=>[e(x,{modelValue:s(n).global,"onUpdate:modelValue":t[2]||(t[2]=m=>s(n).global=m)},null,8,["modelValue"])]),_:1}),e(S,{label:"单接口限制"},{default:l(()=>[e(x,{modelValue:s(n).point,"onUpdate:modelValue":t[3]||(t[3]=m=>s(n).point=m)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","label-position"])]),_:1},8,["modelValue"])])}}});class po{crypt(i){return se.get("/api/toml/crypt",{name:i})}save(i,a,_,f){return se.put("/api/toml/crypt-jwt",{key:i,expire:a,issuer:_,subject:f})}}const ne=new(re(po)),uo={class:"config-qps-card-wrapper"},ro={class:"flex-sb"},mo={class:"flex-yc"},fo=o("span",{class:"fs-14"},"JWT",-1),vo={class:"flex-yc g-1"},go=o("span",{class:"fs-12"},"已开启",-1),ho=o("p",{class:"mt-2 fs-12 muted-color"}," 1. JWT（JSON Web Token）是一种在网络应用中传递声明信息的轻量级、安全的方式。 ",-1),yo=o("p",{class:"mt-1 fs-12 muted-color"}," 2. JWT具有通用性和可扩展性，可以应用在很多场景，比如用户认证、单点登录、API访问授权等。 ",-1),bo={class:"flex-sb mt-4 w-100 z-1"},$o={class:"flex-yc w-100 g-2"},wo=o("span",{class:"ml5"},"随机",-1),xo={class:"dialog-footer"},Vo=Q({__name:"SecureJWT",setup(C){const i=v(!0),a=v(!1),_=v(!1),{width:f}=X(),n=j({key:"",expire:"",issuer:"",subject:""}),p={fetchData:async()=>{const c=await ne.crypt("jwt");c.code===200&&(n.key=c.data.key,n.expire=c.data.expire,n.issuer=c.data.issuer,n.subject=c.data.subject)},handleSave:async()=>{_.value=!0;const c=await ne.save(n.key,n.expire,n.issuer,n.subject);_.value=!1,a.value=!1,z(c)},random:()=>{let c="INIS-";const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",d=t.length;for(let h=0;h<32;h++)c+=t.charAt(Math.floor(Math.random()*d));n.key=c}};return p.fetchData(),(c,t)=>{const d=Y,h=J,$=N,I=F,P=K,b=M,y=O,w=ce,x=R,S=q,D=H,U=W("ripple");return g(),G("div",uo,[B((g(),k(y,{shadow:"never",class:"hover-up h-100 pr"},{default:l(()=>[e(d,{name:"d-3",class:"config-icon trf",size:"150"}),o("div",null,[o("div",ro,[e($,{placement:"top"},{content:l(()=>[r(" JWT配置 ")]),default:l(()=>[o("div",mo,[e(h,{name:"information-fill",class:"mr5"}),fo])]),_:1}),s(i)?(g(),k(I,{key:0,type:"success"},{default:l(()=>[o("div",vo,[e(h,{size:"14",name:"checkbox-circle-line"}),go])]),_:1})):L("",!0)]),ho,yo]),o("div",bo,[e(P,{modelValue:s(i),"onUpdate:modelValue":t[0]||(t[0]=u=>E(i)?i.value=u:null),disabled:""},null,8,["modelValue"]),e(b,{plain:"",size:"small",type:"primary",onClick:t[1]||(t[1]=u=>a.value=!s(a))},{default:l(()=>[r("点我配置")]),_:1})])]),_:1})),[[U]]),e(D,{modelValue:s(a),"onUpdate:modelValue":t[7]||(t[7]=u=>E(a)?a.value=u:null),width:"95%",title:"JWT配置"},{footer:l(()=>[o("span",xo,[e(b,{onClick:t[6]||(t[6]=u=>a.value=!1)},{default:l(()=>[r("取消")]),_:1}),e(b,{loading:s(_),type:"primary",onClick:p.handleSave},{default:l(()=>[r(" 确认 ")]),_:1},8,["loading","onClick"])])]),default:l(()=>[e(S,{model:s(n),"label-width":"100","label-position":s(f)<=768?"top":"left"},{default:l(()=>[e(x,{label:"签发者"},{default:l(()=>[e(w,{modelValue:s(n).issuer,"onUpdate:modelValue":t[2]||(t[2]=u=>s(n).issuer=u)},null,8,["modelValue"])]),_:1}),e(x,{label:"主题"},{default:l(()=>[e(w,{modelValue:s(n).subject,"onUpdate:modelValue":t[3]||(t[3]=u=>s(n).subject=u)},null,8,["modelValue"])]),_:1}),e(x,{label:"秘钥"},{default:l(()=>[o("div",$o,[e(w,{modelValue:s(n).key,"onUpdate:modelValue":t[4]||(t[4]=u=>s(n).key=u),class:"w-100"},null,8,["modelValue"]),e(b,{type:"primary",plain:"",onClick:p.random},{default:l(()=>[e(h,{name:"restart-line"}),wo]),_:1},8,["onClick"])])]),_:1}),e(x,{label:"过期时间(秒)"},{default:l(()=>[e(w,{modelValue:s(n).expire,"onUpdate:modelValue":t[5]||(t[5]=u=>s(n).expire=u)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","label-position"])]),_:1},8,["modelValue"])])}}}),T=C=>(fe("data-v-abda1b58"),C=C(),ve(),C),So={class:"flex-sb"},ko={class:"flex-yc"},Co=T(()=>o("span",{class:"fs-14"},"API KEY",-1)),Io={class:"flex-yc g-1"},Po=T(()=>o("span",{class:"fs-12"},"已开启",-1)),Eo=T(()=>o("p",{class:"mt-2 fs-12 muted-color"},[r(" 1. 开启之后，所有的API均需要在请求头中提交 "),o("strong",{class:"text-danger"},"i-api-key=密钥"),r(" 方能使用 ")],-1)),zo=T(()=>o("p",{class:"mt-1 fs-12 muted-color"}," 2. 于此同时API安全性将提升90%，剩下10%取决于你的密钥复杂度和对手的能力强弱！ ",-1)),Do={class:"flex-sb mt-4 w-100 z-1"},Uo=T(()=>o("div",{class:"flex popover"},[o("span",{class:"mr5"},"●"),o("p",{class:"w-100"},"API KEY 不是什么很NB的技术，却能大大提高的接口安全")],-1)),Ao=T(()=>o("div",{class:"flex popover"},[o("span",{class:"mr5"},"●"),o("p",{class:"w-100"},"正常来说不开启也没关系，因为除此之外还有QPS限流器在帮你拦截异常流量")],-1)),To=T(()=>o("div",{class:"flex popover"},[o("span",{class:"mr5"},"●"),o("p",{class:"w-100"}," 但是如果您开启了API KEY，在使用其它主题的时候，需要按照要求配置密钥到您的主题中，否则主题会拿不到任何数据 ")],-1)),ae="SYSTEM_API_KEY",jo=Q({__name:"SecureApiKey",setup(C){const i=v(!1),a=v(!1),_={fetchData:async()=>{const f=await V.one(ae);f.code===200&&(i.value=f.data.value==="1")},handleChange:async()=>{a.value=!0;const f=await V.save({key:ae,value:i.value?0:1});return z(f),a.value=!1,f.code==200}};return _.fetchData(),(f,n)=>{const p=Y,c=ie,t=J,d=N,h=F,$=K,I=M,P=_e,b=O,y=W("ripple");return B((g(),k(b,{shadow:"never",class:"hover-up pr"},{default:l(()=>[e(p,{name:"d-1",class:"config-icon trf",size:"150"}),o("div",null,[o("div",So,[e(d,{placement:"top"},{content:l(()=>[e(c,{class:"mx-1",size:"small",type:"danger"},{default:l(()=>[r("风险操作！此功能不懂请勿开启！")]),_:1})]),default:l(()=>[o("div",ko,[e(t,{name:"information-fill",class:"mr5"}),Co])]),_:1}),s(i)?(g(),k(h,{key:0,type:"success"},{default:l(()=>[o("div",Io,[e(t,{size:"14",name:"checkbox-circle-line"}),Po])]),_:1})):L("",!0)]),Eo,zo]),o("div",Do,[e($,{"before-change":_.handleChange,loading:s(a),modelValue:s(i),"onUpdate:modelValue":n[0]||(n[0]=w=>E(i)?i.value=w:null)},null,8,["before-change","loading","modelValue"]),e(P,{placement:"bottom",width:"400",trigger:"click"},{reference:l(()=>[e(I,{plain:"",size:"small",type:"primary"},{default:l(()=>[r("查看详情")]),_:1})]),default:l(()=>[Uo,Ao,To]),_:1})])]),_:1})),[[y]])}}}),No=de(jo,[["__scopeId","data-v-abda1b58"]]),Fo={},Ko={class:"admin-system-secure-page"},Mo={class:"config-wrapper grid g-6"};function Oo(C,i){const a=No,_=Vo,f=_o,n=Xe,p=Ke,c=Ce;return g(),G("div",Ko,[o("div",Mo,[e(a),e(_),e(f),e(n),e(p),e(c)])])}const $t=de(Fo,[["render",Oo]]);export{$t as default};
