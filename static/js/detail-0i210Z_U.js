import{L as k,e as S}from"./element-plus-DEgQ78-a.js";import{v as D,_ as B,h as C}from"./index-CYWUNeU5.js";import{d as E,i as V,m as z,w as N,ar as p,o,c as s,W as r,O as l,u as e,al as R,a,V as A,aa as F,P as d,X as L,S as $,M as I}from"./@vue-AVcRlItG.js";import"./wc-waterfall-BFfXSEeD.js";import{a as M}from"./vue-router-MJGgZ6ro.js";import{a as O}from"./@vueuse-80B0Z04t.js";import"./lodash-es-25cZ6aDd.js";import"./async-validator-DKvM95Vc.js";import"./dayjs-D7ajE0Qg.js";import"./clipboard-CJr-i2j9.js";import"./@element-plus-Bh_lnI-E.js";import"./@ctrl-r5W6hzzQ.js";import"./@popperjs-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./pinia-DsZbUfLd.js";import"./pinia-plugin-persistedstate-n2tMOXAx.js";import"./axios-BdQ6k-vz.js";import"./nprogress-Dnjw-PvA.js";import"./markdown-it-4Tp5vWU9.js";import"./mdurl-k9Sl0PQj.js";import"./uc.micro-XL2UFyD4.js";import"./entities-C20TfXL6.js";import"./linkify-it-BpOB9kmn.js";import"./punycode.js-Dj65hjkv.js";import"./crypto-js-BOfVfFwP.js";import"./vue3-danmaku-DA_6354Q.js";import"./plyr-DMguYs3u.js";import"./viewerjs-ul8fLQ7-.js";import"./highlight.js-DnQT8WiG.js";import"./@unhead-CE7b8z0V.js";import"./unhead-BIJBGSS1.js";import"./hookable-B8xFkYCm.js";const P=a("div",{class:"flex-yc g-2"},[a("span",null,"相册列表")],-1),W={key:0},X={class:"image-list-wrap flex flex-wrap g-2",gap:10},j=["src"],q={class:"loading-wrap flex-yc flex-center my-2 fs-12 muted-color"},G=a("span",null,"加载中...",-1),H={key:0,class:"mb-2 mt-4 flex-yc flex-center fs-12 muted-color"},J=a("div",{class:"split"},null,-1),K=a("span",{class:"mx-1"},"我是有底线的",-1),Q=a("div",{class:"split"},null,-1),T=[J,K,Q],zt=E({__name:"detail",setup(U){const _=M(),f=V(),{arrivedState:g}=O(window),t=z({page:1,limit:12,all_page:1,loading:!1,data:null}),c={fetchData:async()=>{const{code:i,data:n}=await D.all({page:t.page,limit:t.limit,where:`group = ${_.params.id}`});i===200?(t.data||(t.data=[]),t.data=t.data.concat(n.data),t.all_page=n.page):t.data=t.data||[]}};return N(g,async i=>{i.bottom&&(t.page+=1,t.loading=!0,t.page<=t.all_page&&await c.fetchData(),t.loading=!1)}),c.fetchData(),(i,n)=>{const m=S,u=B,h=C,v=k,y=p("imgbox"),w=p("lazy");return o(),s("div",{ref_key:"galleryRef",ref:f,class:"album-gallery-list"},[r(v,{class:"box-card card-bg br-5 cus-box-card",shadow:"never"},{header:l(()=>[P]),default:l(()=>[r(m,{animated:"",throttle:200,loading:e(t).data===null},R({template:l(()=>[r(m,{rows:12})]),_:2},[e(t).data?{name:"default",fn:l(()=>[e(t).data.length?(o(),s("div",W,[a("div",X,[(o(!0),s(A,null,F(e(t).data,(x,b)=>d((o(),s("div",{class:"album-item-wrap trf br-5",key:b},[a("img",{class:"br-5 trf wh-100",src:x.image},null,8,j)])),[[y],[w]])),128))]),d(a("div",q,[r(u,{name:"loader-2-line ",size:"14",class:"mr5 spinner"}),G],512),[[L,e(t).loading]]),e(t).page>e(t).all_page?(o(),s("div",H,T)):$("",!0)])):(o(),I(h,{key:1}))]),key:"0"}:void 0]),1032,["loading"])]),_:1})],512)}}});export{zt as default};
