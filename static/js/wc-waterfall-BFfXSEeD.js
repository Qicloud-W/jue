var O="wc-waterfall{position:relative;display:block;box-sizing:border-box!important;overflow:unset!important}wc-waterfall>*{position:absolute;box-sizing:border-box}";const E=t=>t.nodeType==1,$=t=>{const n=t();class e extends HTMLElement{constructor(){super(),this.$props=t();const s={};for(const a in this.$props)s[a]={get:()=>this.$props[a],set:i=>{this.$props[a]=H(n,a,i),this.render()}};Object.defineProperties(this,s)}static get observedAttributes(){return Object.keys(n).filter(s=>W(n[s]))}attributeChangedCallback(s,a,i){i=H(n,s,i),this.$props[s]!==i&&(this.$props[s]=i)}}return e},H=(t,n,e)=>{const o=t[n];return W(o)?{number:s=>Number(s),string:s=>String(s),boolean:s=>s!=null&&s!="false"}[typeof o](e):void 0},W=t=>{const n=typeof t;return n=="number"||n=="string"||n=="boolean"};function I(t){let n=0;for(let e=0;e<t.length;e++)n=t[n]<=t[e]?n:e;return n}function L(t,{getW:n,setW:e,getH:o,setH:s,getPad:a,setX:i,setY:u,getChildren:p},{cols:c,gap:r}){const[l,k,m,v]=a(t),h=p(t),x=h.length;if(x){const w=(n(t)-r*(c-1)-(v+k))/c;Array.prototype.forEach.call(h,d=>e(d,w));const A=Array.prototype.map.call(h,d=>o(d)),f=Array(c).fill(l);for(let d=0;d<x;d++){const C=h[d],b=I(f);u(C,f[b]),i(C,v+(w+r)*b),f[b]+=A[d]+r}s(t,Math.max(...f)-r+m)}else s(t,l+m)}const g=Symbol(),y=Symbol();function M(t,n){let e,o,s;function a(){e=new ResizeObserver(c=>c.some(({target:r})=>r[y]!=r.offsetWidth||r[g]!=r.offsetHeight)&&p()),e.observe(t),Array.prototype.forEach.call(t.children,c=>e.observe(c)),o=new MutationObserver(c=>{c.forEach(r=>{r.addedNodes.forEach(l=>E(l)&&e.observe(l)),r.removedNodes.forEach(l=>E(l)&&e.unobserve(l))}),p()}),o.observe(t,{childList:!0,attributes:!1}),s=new MutationObserver(()=>p()),s.observe(t,{childList:!1,attributes:!0}),p()}function i(){e.disconnect(),o.disconnect(),s.disconnect()}let u=!1;function p(){u||(u=!0,requestAnimationFrame(()=>{n(),t[y]=t.offsetWidth,t[g]=t.offsetHeight,s.takeRecords(),u=!1}))}return{relayout:p,mount:a,unmount:i}}const S=(t,n)=>M(t,()=>{L(t,{getW:e=>e.offsetWidth,setW:(e,o)=>e.style.width=o+"px",getH:e=>(e[y]=e.offsetWidth,e[g]=e.offsetHeight),setH:(e,o)=>e.style.height=o+"px",getPad:e=>{const o=getComputedStyle(e);return[parseInt(o.paddingTop),parseInt(o.paddingRight),parseInt(o.paddingBottom),parseInt(o.paddingLeft)]},setX:(e,o)=>e.style.left=o+"px",setY:(e,o)=>e.style.top=o+"px",getChildren:e=>e.children},n)});document.head.appendChild(Object.assign(document.createElement("style"),{innerText:O}));const T=()=>({cols:2,gap:4});class _ extends $(T){constructor(){super()}connectedCallback(){this._layout=S(this,this),this._layout.mount()}disconnectedCallback(){this._layout.unmount()}render(){this.isConnected&&this._layout.relayout()}}customElements.define("wc-waterfall",_);
